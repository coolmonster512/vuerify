!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Vuerify=t()}(this,function(){"use strict";function e(e){var t=arguments.length<=1||void 0===arguments[1]?"vuerify":arguments[1];o=e,o.directive(t,u)}function t(e,t){var i=this.$vuerify.$rules,r=this.$options.vuerify,n=r[e],s="[object String]"===c.call(n)?i[n]:"[object String]"===c.call(n.test)?i[n.test]:n;if(!s||!s.test)return void console.warn("[vuerify] rule does not exist: "+n.test||n);s.message=n.message||s.message;var o=this.$vuerify.$errors[e],u="[object Function]"===c.call(s.test)?s.test.call(this,t):s.test.test(t);u?v.delete(this.$vuerify.$errors,e):o||v.set(this.$vuerify.$errors,e,s.message);var a=Boolean(Object.keys(this.$vuerify.$errors).length);return this.$vuerify.valid=!a,this.$vuerify.invalid=a,u}function i(e){var i=this.vm;return e=e||Object.keys(i.$options.vuerify),e.map(function(e){return t.call(i,e,i._data[e])}).indexOf(!1)===-1}function r(e,t){v=e,d.prototype.$rules=Object.assign({},a,t),v.util.defineReactive(d.prototype,"$errors",{}),v.util.defineReactive(d.prototype,"invalid",!0),v.util.defineReactive(d.prototype,"valid",!1),v.mixin({created:n})}function n(){var e=this,i=this.$options.vuerify;i&&(this.$vuerify=new d(this),Object.keys(i).forEach(function(i){return e.$watch(i,function(r){return t.call(e,i,r)})}))}function s(e){return y?void console.warn("[Vuerify] already installed. Vue.use(Vuerify) should be called only once."):(y=e,void r(y))}var o=void 0,u={params:["vuerifyInvalidClass"],bind:function(){this.hasVuerify=this.modifiers.parent?Boolean(this.vm.$parent.$options.vuerify):Boolean(this.vm.$options.vuerify),this.errorClass=this.params.vuerifyInvalidClass||"vuerify-invalid"},update:function(e){var t=this;if(this.hasVuerify){var i=this.modifiers.parent?this.vm.$parent:this.vm;o.util.on(this.el,"focus",function(){o.util.removeClass(t.el,t.errorClass)},!0),o.util.on(this.el,"blur",function(){var r=i.$vuerify.$errors[e];r?(o.util.addClass(t.el,t.errorClass),i.$emit("vuerify-invalid",e,r)):(o.util.removeClass(t.el,t.errorClass),i.$emit("vuerify-valid",e))},!0)}},unbind:function(){o.util.off(this.el,"blur"),o.util.off(this.el,"focus")}},a={email:{test:/^(([^<>()[\]\\.,;:\s"]+(\.[^<>()[\]\\.,;:\s"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,message:"邮箱格式错误"},required:{test:/\S+$/,message:"必填项"},url:{test:/^(https?|ftp|rmtp|mms):\/\/(([A-Z0-9][A-Z0-9_-]*)(\.[A-Z0-9][A-Z0-9_-]*)+)(:(\d+))?\/?/i,message:"URL 格式错误"}},l=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},f=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),c=Object.prototype.toString,v=void 0,d=function(){function e(t){l(this,e),this.vm=t}return f(e,[{key:"check",value:function(e){return i.call(this,e)}},{key:"clear",value:function(){this.$errors={}}}]),e}(),y=void 0;"undefined"!=typeof window&&window.Vue&&(s(window.Vue),window.Vue.use(e));var h={directive:e,install:s};return h});
